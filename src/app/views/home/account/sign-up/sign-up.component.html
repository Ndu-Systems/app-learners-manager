<div class="main account">
  <div class="col-1-of-2">
    <div class="form-container">
      <form class="form"
            [formGroup]="rForm">
        <h1>
          Welcome, please register your account.
        </h1>

        <div class="form-group">
          <label for="exampleInputName">Name</label>
          <input type="text"
                 class="form-control"
                 formControlName="Name"
                 id="exampleInputFirstName"
                 placeholder="Enter First Name">
          <div class="alert"
               *ngIf="!rForm.controls['Name'].valid  && rForm.controls['Name'].touched ">
            Name is required
          </div>
        </div>

        <div class="form-group">
          <label for="exampleInputSurname">Enter Surname</label>
          <input type="text"
                 class="form-control"
                 formControlName="Surname"
                 id="exampleInputSurname"
                 placeholder="Enter Surname">
          <div class="alert"
               *ngIf="!rForm.controls['Surname'].valid  && rForm.controls['Surname'].touched ">
            Surname is required
          </div>
        </div>


        <div class="form-group">
          <label for="exampleInputEmail">Select your institution of learning</label>
          <select name=""
                  id=""
                  (change)="institutionTypeSelected($event.target.value)"> 
            <option *ngFor="let item of institutionTypes"
                    [value]="item.InstitutionTypeId">{{item.Name}}</option>
          </select>
        </div>

        <div class="form-group"
             *ngIf="grades">
          <label for="exampleInputEmail">Select your grade</label>
          <select name=""
                  id=""
                  formControlName="GradeId"
                  (change)="gradeSelected($event.target.value)">
            <option *ngFor="let grade of grades"
                    [value]="grade.GradeId">{{grade.Name}}</option>
          </select>
          <div class="alert"
               *ngIf="!rForm.controls['GradeId'].valid  && rForm.controls['GradeId'].touched ">
            Grade is required
          </div>
        </div>

        <div class="form-group"
             *ngIf="subjects && subjects.length > 0">
          <label for="exampleInputEmail">Select subjects</label>
          <div class="subjects">
            <div *ngFor="let subject of subjects; let i = index"
                 [ngClass]="subject.Class"
                 (click)="selectSubject(subject)">
              {{subject.Name}}
            </div>
          </div>
        </div>

        <div class="form-group"
             *ngIf="paymentTypes && paymentTypes.length > 0">
          <label id="example-radio-group-label">Pick your payment option</label>
          <mat-radio-group aria-labelledby="example-radio-group-label"
                           class="example-radio-group"
                           [(ngModel)]="paymentOption"
                           [ngModelOptions]="{standalone: true}">
            <mat-radio-button class="example-radio-button"
                              *ngFor="let item of paymentTypes"
                              [value]="item.Name">
              {{item.Name}}
            </mat-radio-button>
          </mat-radio-group>
          <div>Your payment option is: {{paymentOption}}</div>

        </div>

        <div class="form-group">
          <label for="exampleInputPhoneNumber">Contact number</label>
          <input type="email"
                 class="form-control"
                 formControlName="PhoneNumber"
                 id="exampleInputPhoneNumber"
                 placeholder="Enter Contact Number">
          <div class="alert"
               *ngIf="!rForm.controls['PhoneNumber'].valid  && rForm.controls['PhoneNumber'].touched ">
            PhoneNumber is required
          </div>
        </div>
        <div class="form-group">
          <label for="exampleInputEmail">Email address</label>
          <input type="email"
                 class="form-control"
                 formControlName="Email"
                 id="exampleInputEmail"
                 placeholder="Enter email">
          <div class="alert"
               *ngIf="!rForm.controls['Email'].valid  && rForm.controls['Email'].touched ">
            Email is required
          </div>
        </div>

        <div class="form-group">
          <label for="exampleInputPassword1">Password</label>
          <input type="password"
                 [type]="hidePassword? 'password': 'text'"
                 class="form-control"
                 formControlName="Password"
                 id="exampleInputPassword1"
                 placeholder="Password">
          <div class="showPassword"
               (click)="hidePassword = !hidePassword">
            <div class="alert"
                 *ngIf="!rForm.controls['Password'].valid && rForm.controls['Password'].touched ">
              Password is required
            </div>
          </div>
        </div>
        <button mat-icon-button
                matSuffix
                (click)="hidePassword = !hidePassword"
                [attr.aria-label]="'Hide password'">
          <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
        <div class="action">
          <button mat-button
                  color="primary"
                  (click)="onSubmit(rForm.value)"
                  [disabled]="!rForm.valid">
            Sign up
          </button>
          <h5 class="error">{{error}}</h5>
        </div>
        <div class="cta">
          <h1>Already have an account?</h1>
          <a routerLink="/sign-in">Sign in</a>
        </div>
      </form>
    </div>
    <div class="side-image">
      <img src="assets/images/home/undraw_unlock_24mb.svg"
           alt="">
    </div>
  </div>
</div>

<app-loader [showLoader]="showLoader"></app-loader>
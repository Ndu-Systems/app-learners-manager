<div class=""
     *ngIf="assignments">
  <div class="lessons"
       *ngIf="assignments.length; else nodata">
    <div class="lesson"
         *ngFor="let assignment of assignments"
         (click)="preview(assignment)">
         <i class="material-icons">
          description
        </i>
      <h1 class="tittle">
         
          {{assignment.Tittle}}
        <span class="stat">
          {{assignment.Points}} Points | Due: {{assignment.DueDate | date: 'mediumDate'}}
        </span>
      </h1>
    </div>
    <div class="add-new">
      <button mat-button
              color="primary"
              (click)="add()"> Add new assignment</button>
    </div>
  </div>


  <ng-template #nodata>
    <div class="nodata">
      <h1>
        You don't have any assignments yet.
        <span (click)="add()">
          Add assignment
        </span>
      </h1>
    </div>
  </ng-template>
</div>



<div class="overlay"
     *ngIf="showModal || showDelete || showPreview"
     (click)="closeModal()"></div>
<div class="modal"
     *ngIf="showModal && assignment">
  <div class="close"
       (click)="closeModal()">
    <span class="material-icons">
      west
    </span> {{modalHeading}}
  </div>

  <div class="form">
    <div class="form-group">
      <label for="">Assignment tittle**</label>
      <input type="text"
             placeholder="e.g. How to write a strong introduction."
             [(ngModel)]="assignment.Tittle">
    </div>
    <div class="form-group">
      <label for="">Assignment points**</label>
      <input type="number"
             placeholder="e.g. 100"
             [(ngModel)]="assignment.Points">
    </div>
    <div class="form-group">
      <label for="">Assignment due date**</label>
      <input type="date"
             [(ngModel)]="assignment.DueDate">
    </div>
    <div class="form-group">
      <label for="">Assignment Instructions</label>
      <textarea [(ngModel)]="assignment.Instructions"
                placeholder="e.g. How to write a strong introduction.">
      </textarea>
    </div>
    <button mat-button
            color="primary"
            class="btn-float"
            (click)="save()"> Save Assignment</button>
    <div class="error">
      {{error}}
    </div>
  </div>
</div>


<div class="modal"
     *ngIf="showPreview && assignment">
  <div class="delete-modal">
    <div class="close"
         (click)="closeModal()">
      <span class="material-icons">
        west
      </span> {{modalHeading}}
    </div>

    <div class="form">
      <label for="">Assignment tittle**</label>
      <input type="text"
             placeholder="e.g. How to write a strong introduction."
             [(ngModel)]="assignment.Tittle">

      <label for="">Assignment points**</label>
      <input type="number"
             placeholder="e.g. 100"
             [(ngModel)]="assignment.Points">

      <label for="">Assignment due date**</label>
      <input type="date"
             [(ngModel)]="assignment.DueDate">

      <label for="">Assignment Instructions</label>

      <textarea [(ngModel)]="assignment.Instructions"
                placeholder="e.g. How to write a strong introduction.">

      </textarea>


      <div class="files">
        <label for="">Assignment Files</label>
        <app-images [images]="assignment.Images"
                    [otherId]="assignment.AssignmentId"
                    (onUploadFinished)="uploadFinished($event)"></app-images>
      </div>



      <button mat-button
              color="primary"
              class="btn-float"
              (click)="update()"> Save Changes</button>
      <div class="error">
        {{error}}
      </div>
    </div>
    <div class="error">
      {{error}}
    </div>
  </div>
</div>


<div class="modal"
     *ngIf="showDelete">
  <div class="delete-modal">
    <div class="close"
         (click)="closeModal()">
      <span class="material-icons">
        west
      </span> {{modalHeading}}
    </div>

    <button mat-button
            color="primary"
            class="danger"
            (click)="formatBody()"> Yes, delete</button>
    <button mat-button
            color="primary"
            class="secondary"
            (click)="closeModal()"> Cancel</button>
    <div class="error">
      {{error}}
    </div>
  </div>
</div>



<app-dash-loader *ngIf="showLoader"></app-dash-loader>
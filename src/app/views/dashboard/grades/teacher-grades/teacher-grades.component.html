<div class="teacher-grades">
  <div class="header">
    <div class="name">
      {{grade?.Name}}

      <span class="material-icons edit-grade" (click)="editGrade(grade)">
        create
        </span>
    </div>
    <div class="switch">
      <div class="label">
        <span>Switch grade</span>
      </div>
      <mat-form-field>
        <mat-select [(ngModel)]="gradeId">
          <mat-option *ngFor="let item of grades; let i = index" [value]="item.GradeId" (click)="gradeChanged(item)">
            {{item.Name}}</mat-option>
        </mat-select>
      </mat-form-field>
      <div class="add-new" (click)="addGrade()">
        <a>Add new grade</a>
      </div>
    </div>
  </div>
  <div class="subjects">
    <app-subjects *ngIf="grade" [subjects]="grade.Subjects" [gradeId]="grade.GradeId"></app-subjects>
  </div>
</div>


<div class="overlay" *ngIf="showModal" (click)="closeModal()"></div>
<div class="modal" *ngIf="showModal && gradeToAdd">
  <div class="close" (click)="closeModal()">
    <span class="material-icons">
      west
    </span> {{modalHeading}}
  </div>

  <div class="form">
    <div class="form-group" *ngIf="institutionTypes">
      <label for="">Select Institution Type*</label>
      <select (change)="selectedInstitutionType($event)">
        <option *ngFor="let item of institutionTypes" [value]="item.Name">{{item.Name}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="">Grade name*</label>
      <input type="text" [(ngModel)]="gradeToAdd.Name">
    </div>
    <div class="form-group">
      <label for="">Grade description</label>
      <input type="text" [(ngModel)]="gradeToAdd.Description">
    </div>
    <button mat-button color="primary" (click)="save()"> Save grade </button>
    <div class="error" *ngFor="let error of errors">
      {{error}}
    </div>
  </div>

</div>

<div class="modal" *ngIf="showModal && isUpdate">
  <div class="close" (click)="closeModal()">
    <span class="material-icons">
      west
    </span> {{modalHeading}}
  </div>

  <div class="form">
    <div class="form-group">
      <label for="">Select Institution Type*</label>
      <select [(ngModel)]="grade.InstitutionTypeId"> {{InstitutionTypeId}}
        <option *ngFor="let item of institutionTypes" [value]="item.InstitutionTypeId">{{item.Name}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="">Grade name*</label>
      <input type="text" [(ngModel)]="grade.Name">
    </div>
    <div class="form-group">
      <label for="">Grade description</label>
      <input type="text" [(ngModel)]="grade.Description">
    </div>
    <button mat-button color="primary" (click)="update()"> Save changes </button>
    <div class="error" *ngFor="let error of errors">
      {{error}}
    </div>
  </div>

</div>